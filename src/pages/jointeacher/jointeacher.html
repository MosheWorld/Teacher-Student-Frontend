<ion-header>

  <ion-navbar>
    <ion-title text-center>
      <font class="m-color-white">Join as Teacher</font>
    </ion-title>
  </ion-navbar>

</ion-header>

<ion-content>

  <!-- Gray area -->
  <div padding text-center class="m-background-2b3137 m-margin-top0 m-color-white">

    <ion-grid>

      <!-- Title -->
      <ion-row text-center>
        <ion-col col-12>
          <font class="m-color-white m-font-size-35px m-font-weight-300">Become a next-generation teacher</font>
        </ion-col>
      </ion-row>

      <!-- Subtitle -->
      <ion-row>
        <ion-col col-12>
          In order to join as teacher you must fill all the following fields. Be specific with your information to gain more good resume
          and comments from students. Remember, good instructor is remembered for lifetime.
        </ion-col>
      </ion-row>

      <!-- Tip -->
      <ion-row>
        <ion-col col-12>
          <font class="m-color-orange">*Tip: </font>
          Give full information at the relevant fields to interest more students.
        </ion-col>
      </ion-row>

      <!-- Price warning -->
      <ion-row>
        <ion-col col-12>
          <font class="m-color-red">*The price per lesson is for one hour*</font>
        </ion-col>
      </ion-row>

    </ion-grid>

  </div>

  <!-- White area -->
  <div>

    <ion-grid>

      <!-- StudyHub for individuals title -->
      <ion-row text-center class="m-padding-top-15px m-padding-buttom-15px">
        <ion-col col-12>
          <u>
            <b>Fill teacher form</b>
          </u>
        </ion-col>
      </ion-row>

      <!-- Form -->
      <form class="m-form">

        <!-- First name and Last name -->
        <ion-row>
          <ion-col col-6>
            <!-- First name-->
            <mat-form-field class="m-full-width">
              <input type="text" matInput placeholder="First name" [formControl]="firstNameFormControl" [errorStateMatcher]="matcher">
              <mat-hint>Your personal first name</mat-hint>
              <mat-error *ngIf="firstNameFormControl.hasError('required')">
                First name is
                <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </ion-col>
          <!-- Last name -->
          <ion-col col-6>
            <mat-form-field class="m-full-width">
              <input type="text" matInput placeholder="Last name" [formControl]="lastNameFormControl" [errorStateMatcher]="matcher">
              <mat-hint>Your personal last name</mat-hint>
              <mat-error *ngIf="lastNameFormControl.hasError('required')">
                Last name is
                <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </ion-col>
        </ion-row>

        <!-- Age and Gender -->
        <ion-row>
          <!-- Age -->
          <ion-col col-6>
            <mat-form-field class="m-full-width">
              <input type="text" maxlength="3" matInput placeholder="Age" [formControl]="ageFormControl" [errorStateMatcher]="matcher">
              <mat-hint>What's your age?</mat-hint>
              <mat-error *ngIf="ageFormControl.hasError('minlength') || ageFormControl.hasError('maxlength') && !ageFormControl.hasError('required')">
                Type proper age.
              </mat-error>
              <mat-error *ngIf="ageFormControl.hasError('min') && !ageFormControl.hasError('required')">
                Age cannot be less than 1.
              </mat-error>
              <mat-error *ngIf="ageFormControl.hasError('max') && !ageFormControl.hasError('required')">
                Age cannot be greater than 120.
              </mat-error>
              <mat-error *ngIf="ageFormControl.hasError('required')">
                Age is
                <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </ion-col>
          <!-- Gender -->
          <ion-col col-6>
            <mat-form-field>
              <mat-select placeholder="Gender" [formControl]="genderAtFormControl" [errorStateMatcher]="matcher">
                <mat-option *ngFor="let item of commonProvider.genderArray" [value]="item.value">
                  {{ item.viewValue }}
                </mat-option>
              </mat-select>
              <mat-hint>What is your gender?</mat-hint>
              <mat-error *ngIf="genderAtFormControl.hasError('required')">Male or Female?</mat-error>
            </mat-form-field>
          </ion-col>
        </ion-row>

        <!-- Email and phone number -->
        <ion-row>
          <!-- Email -->
          <ion-col col-6>
            <mat-form-field class="m-full-width">
              <input pattern="^[a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,15})$" matInput placeholder="Email" [formControl]="emailFormControl"
                [errorStateMatcher]="matcher">
              <mat-hint>Ex: Email@gmail.com</mat-hint>
              <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                Please enter a valid email address.
              </mat-error>
              <mat-error *ngIf="emailFormControl.hasError('required')">
                Email is
                <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </ion-col>
          <!-- Phone -->
          <ion-col col-6>
            <mat-form-field class="m-full-width">
              <input type="tel" maxlength="10" matInput placeholder="Phone" [formControl]="phoneFormControl" [errorStateMatcher]="matcher">
              <mat-hint>Your personal phone number</mat-hint>
              <mat-error *ngIf="phoneFormControl.hasError('minlength') || phoneFormControl.hasError('maxlength') && !phoneFormControl.hasError('required')">
               Length of phone number is invalid.
              </mat-error>
              <mat-error *ngIf="phoneFormControl.errors && phoneFormControl.errors.badphonenumber && !phoneFormControl.hasError('required')">
                Phone number is invalid.
              </mat-error>
              <mat-error *ngIf="phoneFormControl.hasError('required')">
                Phone is
                <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </ion-col>
        </ion-row>

        <!-- From price and To price -->
        <ion-row>
          <ion-col col-6>
            <!-- From price -->
            <mat-form-field class="m-full-width">
              <input type="tel" matInput maxlength="3" placeholder="From price" [formControl]="fromPriceFormControl" [errorStateMatcher]="matcher">
              <mat-hint>1 is Minimum.</mat-hint>
              <mat-error *ngIf="fromPriceFormControl.hasError('minlength') || fromPriceFormControl.hasError('maxlength') && !fromPriceFormControl.hasError('required')">
                Please fix the number.
              </mat-error>
              <mat-error *ngIf="fromPriceFormControl.hasError('min') && !fromPriceFormControl.hasError('required')">
                Minimum is 1.
              </mat-error>
              <mat-error *ngIf="fromPriceFormControl.hasError('max') && !fromPriceFormControl.hasError('required')">
                Maximum is 200.
              </mat-error>
              <mat-error *ngIf="fromPriceFormControl.hasError('required')">
                From price is
                <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </ion-col>
          <!-- To Price -->
          <ion-col col-6>
            <mat-form-field class="m-full-width">
              <input type="tel" matInput maxlength="3" placeholder="To price" [formControl]="toPriceFormControl" [errorStateMatcher]="matcher">
              <mat-hint>200 is Maximum.</mat-hint>
              <mat-error *ngIf="toPriceFormControl.hasError('minlength') || toPriceFormControl.hasError('maxlength') && !toPriceFormControl.hasError('required')">
                Please fix the number.
              </mat-error>
              <mat-error *ngIf="toPriceFormControl.hasError('min') && !toPriceFormControl.hasError('required')">
                Minimum is 1.
              </mat-error>
              <mat-error *ngIf="toPriceFormControl.hasError('max') && !toPriceFormControl.hasError('required')">
                Maximum is 200.
              </mat-error>
              <mat-error *ngIf="toPriceFormControl.hasError('required')">
                To price is
                <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </ion-col>
        </ion-row>

        <!-- Teach at and Teaches institutions -->
        <ion-row>
          <!-- Teach at -->
          <ion-col col-6>
            <mat-form-field class="m-full-width">
              <mat-select placeholder="Teach at" [formControl]="teachesAtFormControl" [errorStateMatcher]="matcher">
                <mat-option *ngFor="let item of commonProvider.teachesAtArray" [value]="item.value">
                  {{ item.viewValue }}
                </mat-option>
              </mat-select>
              <mat-hint>What places do you teach at?</mat-hint>
              <mat-error *ngIf="teachesAtFormControl.hasError('required')">You must make a selection.</mat-error>
            </mat-form-field>
          </ion-col>
          <!-- Teaches institutions -->
          <ion-col col-6>
            <mat-form-field class="m-full-width">
              <mat-select placeholder="Teaches institutions" [formControl]="teachesInstitutionsFormControl" multiple>
                <mat-option *ngFor="let item of commonProvider.teachesInstitutionsArray" [value]="item.value">{{item.viewValue}}</mat-option>
              </mat-select>
              <mat-hint>What institutions do you teach at?</mat-hint>
              <mat-error *ngIf="teachesInstitutionsFormControl.hasError('required')">You must make a selection.</mat-error>
            </mat-form-field>
          </ion-col>
        </ion-row>

        <!-- Teaches Subjects -->
        <ion-row>
          <ion-col col-12>
            <mat-form-field class="m-full-width">
              <mat-select placeholder="Teach Subjects" [formControl]="teachesSubjectsFormControl" multiple>
                <mat-optgroup *ngFor="let group of commonProvider.teachesSubjectsGroupsArray" [label]="group.name">
                  <mat-option *ngFor="let subject of group.subjects" [value]="subject.value">
                    {{ subject.viewValue }}
                  </mat-option>
                </mat-optgroup>
              </mat-select>
            </mat-form-field>
          </ion-col>
        </ion-row>

        <!-- Personal Message -->
        <ion-row>
          <ion-col col-12>
            <mat-form-field class="m-full-width">
              <textarea matInput maxlength="200" rows="4" placeholder="Personal Message" [formControl]="personalMessageFormControl" [errorStateMatcher]="matcher"></textarea>
              <mat-hint align="start">Say something about your self.</mat-hint>
              <mat-hint align="end">{{personalMessageFormControl.value.length}} / 200</mat-hint>
              <mat-error *ngIf="personalMessageFormControl.hasError('minlength') && !personalMessageFormControl.hasError('required')">
                Minimum words are 10.
              </mat-error>
              <mat-error *ngIf="personalMessageFormControl.hasError('maxlength') && !personalMessageFormControl.hasError('required')">
                Maximum words are 200.
              </mat-error>
              <mat-error *ngIf="personalMessageFormControl.hasError('required')">
                You must say few words about yourself.
              </mat-error>
            </mat-form-field>
          </ion-col>
        </ion-row>

        <!-- Get image button and clear button -->
        <ion-row>
          <ion-col col-6>
            <input #inputImage type="file" id="inputImageid" class="m-display-none" (change)="readImageBase64($event)" accept="image/*">
            <button ion-button outline block icon-start small color="dark" onclick="document.getElementById('inputImageid').click();">
              <ion-icon name="ios-camera-outline"></ion-icon>
              Add Image
            </button>
          </ion-col>
          <ion-col col-6 *ngIf="image != null && image.length > 0">
            <button ion-button outline block icon-start small color="dark" (click)="clearImage()">
              <ion-icon name="ios-trash-outline"></ion-icon>
              Clear
            </button>
          </ion-col>
        </ion-row>

        <!-- Image -->
        <ion-row text-center #viewImage *ngIf="image != null && image.length > 0" class="animated flash">
          <ion-col col-12>
            <img height="{{imageHeight}}" width="{{imageWidth}}" src="{{image}}">
          </ion-col>
        </ion-row>

      </form>

      <!-- Error message - Fields -->
      <ion-row *ngIf="showErrorMessage" class="animated fadeInDown" text-center>
        <ion-col col-12>
          <font class="m-color-red">Please fill the requested fields.</font>
        </ion-col>
      </ion-row>

      <!-- Error message - Prices not valid -->
      <ion-row *ngIf="showErrorMessagePrices" class="animated fadeInDown" text-center>
        <ion-col col-12>
          <font class="m-color-red">"Price from" cannot be greater from "To price"</font>
        </ion-col>
      </ion-row>

      <!-- Send form button -->
      <ion-row>
        <ion-col col-12>
          <button ion-button block (click)="createTeacher();">Make me a teacher</button>
        </ion-col>
      </ion-row>

    </ion-grid>

  </div>

</ion-content>